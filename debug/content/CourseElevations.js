define(["underscore","backbone","utils/NavigationUtil","models/course/CourseElevation"],function(e,t,n,r){return t.Collection.extend({model:r,url:function(){return n.url("/proxy/course-service/course/elevation")},fetch:function(e){var n=e||{};return n.url=this.url(),n.contentType="application/json",n.type="POST",n.data=this.getFormatedData(),t.Collection.prototype.fetch.call(this,n)},getFormatedData:function(){var t=[];return e.each(this.models,function(e){t.push([e.getLatitude(),e.getLongitude(),null])}),JSON.stringify(t)},getElevationByLatLng:function(e,t){var n=this.findWhere({latitude:e,longitude:t});return n?n.getElevation():null},parse:function(t){if(t){var n=[];return e.each(t,function(e){n.push(new r({latitude:e[0],longitude:e[1],elevation:e[2]}))}),n}}})});