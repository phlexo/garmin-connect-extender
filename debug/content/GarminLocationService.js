define(["underscore","jquery","collections/course/PlaceSearch","models/user/ViewerUserPreferences","views/utils/LeafletMap/MapServices/LocationService"],function(e,t,n,r,i){var s=function(e){return i.apply(this,e),this};return s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.prototype.fetch=function(t,i){(new n({lat:t.mapCenter.lat,lon:t.mapCenter.lng,text:t.address,language:r.get("preferredLocale"),count:1})).fetch({success:function(e){e&&e.models&&e.models.length>0?t.success.call(i,{address:e.models[0].getName(),location:[e.models[0].getLat(),e.models[0].getLon()]}):t.error.call(i,"","Unexpected data returned.")},error:function(){t.error.call(i,"","Unexpected data returned.")}})},s});