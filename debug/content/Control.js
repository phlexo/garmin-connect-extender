(function(e){if(typeof exports=="object"&&typeof module!="undefined")module.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,t.leafletControlGeocoder=e()}})(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){(function(n){var r=typeof window!="undefined"?window.L:typeof n!="undefined"?n.L:null,i=e("./geocoders/nominatim")["class"];t.exports={"class":r.Control.extend({options:{showResultIcons:!1,collapsed:!0,expand:"touch",position:"topright",placeholder:"Search...",errorMessage:"Nothing found.",suggestMinLength:3,suggestTimeout:250,defaultMarkGeocode:!0},includes:r.Evented.prototype||r.Mixin.Events,initialize:function(e){r.Util.setOptions(this,e),this.options.geocoder||(this.options.geocoder=new i),this._requestCount=0},onAdd:function(e){var t="leaflet-control-geocoder",n=r.DomUtil.create("div",t+" leaflet-bar"),i=r.DomUtil.create("button",t+"-icon",n),s=this._form=r.DomUtil.create("div",t+"-form",n),o;return this._map=e,this._container=n,i.innerHTML="&nbsp;",i.type="button",o=this._input=r.DomUtil.create("input","",s),o.type="text",o.placeholder=this.options.placeholder,this._errorElement=r.DomUtil.create("div",t+"-form-no-error",n),this._errorElement.innerHTML=this.options.errorMessage,this._alts=r.DomUtil.create("ul",t+"-alternatives leaflet-control-geocoder-alternatives-minimized",n),r.DomEvent.disableClickPropagation(this._alts),r.DomEvent.addListener(o,"keydown",this._keydown,this),this.options.geocoder.suggest&&r.DomEvent.addListener(o,"input",this._change,this),r.DomEvent.addListener(o,"blur",function(){this.options.collapsed&&!this._preventBlurCollapse&&this._collapse(),this._preventBlurCollapse=!1},this),this.options.collapsed?this.options.expand==="click"?r.DomEvent.addListener(i,"click",function(e){e.button===0&&e.detail!==2&&this._toggle()},this):r.Browser.touch&&this.options.expand==="touch"?r.DomEvent.addListener(i,"touchstart mousedown",function(e){this._toggle(),e.preventDefault(),e.stopPropagation()},this):(r.DomEvent.addListener(i,"mouseover",this._expand,this),r.DomEvent.addListener(i,"mouseout",this._collapse,this),this._map.on("movestart",this._collapse,this)):(this._expand(),r.Browser.touch?r.DomEvent.addListener(i,"touchstart",function(e){this._geocode(e)},this):r.DomEvent.addListener(i,"click",function(e){this._geocode(e)},this)),this.options.defaultMarkGeocode&&this.on("markgeocode",this.markGeocode,this),this.on("startgeocode",function(){r.DomUtil.addClass(this._container,"leaflet-control-geocoder-throbber")},this),this.on("finishgeocode",function(){r.DomUtil.removeClass(this._container,"leaflet-control-geocoder-throbber")},this),r.DomEvent.disableClickPropagation(n),n},_geocodeResult:function(e,t){if(!t&&e.length===1)this._geocodeResultSelected(e[0]);else if(e.length>0){this._alts.innerHTML="",this._results=e,r.DomUtil.removeClass(this._alts,"leaflet-control-geocoder-alternatives-minimized");for(var n=0;n<e.length;n++)this._alts.appendChild(this._createAlt(e[n],n))}else r.DomUtil.addClass(this._errorElement,"leaflet-control-geocoder-error")},markGeocode:function(e){return e=e.geocode||e,this._map.fitBounds(e.bbox),this._geocodeMarker&&this._map.removeLayer(this._geocodeMarker),this._geocodeMarker=(new r.Marker(e.center)).bindPopup(e.html||e.name).addTo(this._map).openPopup(),this},_geocode:function(e){var t=++this._requestCount,n=e?"suggest":"geocode",r={input:this._input.value};this._lastGeocode=this._input.value,e||this._clearResults(),this.fire("start"+n,r),this.options.geocoder[n](this._input.value,function(i){t===this._requestCount&&(r.results=i,this.fire("finish"+n,r),this._geocodeResult(i,e))},this)},_geocodeResultSelected:function(e){this.options.collapsed||this._clearResults(),this.fire("markgeocode",{geocode:e})},_toggle:function(){r.DomUtil.hasClass(this._container,"leaflet-control-geocoder-expanded")?this._collapse():this._expand()},_expand:function(){r.DomUtil.addClass(this._container,"leaflet-control-geocoder-expanded"),this._input.select(),this.fire("expand")},_collapse:function(){r.DomUtil.removeClass(this._container,"leaflet-control-geocoder-expanded"),r.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),r.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error"),this._input.blur(),this.fire("collapse")},_clearResults:function(){r.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),this._selection=null,r.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error")},_createAlt:function(e,t){var n=r.DomUtil.create("li",""),i=r.DomUtil.create("a","",n),s=this.options.showResultIcons&&e.icon?r.DomUtil.create("img","",i):null,o=e.html?undefined:document.createTextNode(e.name),u=function(i){this._preventBlurCollapse=!0,r.DomEvent.stop(i),this._geocodeResultSelected(e),r.DomEvent.on(n,"click",function(){this.options.collapsed&&this._collapse()},this)};return s&&(s.src=e.icon),n.setAttribute("data-result-index",t),e.html?i.innerHTML=i.innerHTML+e.html:i.appendChild(o),r.DomEvent.addListener(n,"mousedown",u,this),n},_keydown:function(e){var t=this,n=function(n){t._selection&&(r.DomUtil.removeClass(t._selection,"leaflet-control-geocoder-selected"),t._selection=t._selection[n>0?"nextSibling":"previousSibling"]),t._selection||(t._selection=t._alts[n>0?"firstChild":"lastChild"]),t._selection&&r.DomUtil.addClass(t._selection,"leaflet-control-geocoder-selected")};switch(e.keyCode){case 27:this.options.collapsed&&this._collapse();break;case 38:n(-1);break;case 40:n(1);break;case 13:if(this._selection){var i=parseInt(this._selection.getAttribute("data-result-index"),10);this._geocodeResultSelected(this._results[i]),this._clearResults()}else this._geocode()}},_change:function(e){var t=this._input.value;t!==this._lastGeocode&&(clearTimeout(this._suggestTimeout),t.length>=this.options.suggestMinLength?this._suggestTimeout=setTimeout(r.bind(function(){this._geocode(!0)},this),this.options.suggestTimeout):this._clearResults())}}),factory:function(e){return new r.Control.Geocoder(e)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./geocoders/nominatim":9}],2:[function(e,t,n){(function(n){var r=typeof window!="undefined"?window.L:typeof n!="undefined"?n.L:null,i=e("../util");t.exports={"class":r.Class.extend({options:{service_url:"http://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"},initialize:function(e,t){r.setOptions(this,t),this._accessToken=e},geocode:function(e,t,n){var s={SingleLine:e,outFields:"Addr_Type",forStorage:!1,maxLocations:10,f:"json"};this._key&&this._key.length&&(s.token=this._key),i.getJSON(this.options.service_url+"/findAddressCandidates",s,function(e){var i=[],s,o,u;if(e.candidates&&e.candidates.length)for(var a=0;a<=e.candidates.length-1;a++)s=e.candidates[a],o=r.latLng(s.location.y,s.location.x),u=r.latLngBounds(r.latLng(s.extent.ymax,s.extent.xmax),r.latLng(s.extent.ymin,s.extent.xmin)),i[a]={name:s.address,bbox:u,center:o};t.call(n,i)})},suggest:function(e,t,n){return this.geocode(e,t,n)},reverse:function(e,t,n,s){var o={location:encodeURIComponent(e.lng)+","+encodeURIComponent(e.lat),distance:100,f:"json"};i.getJSON(this.options.service_url+"/reverseGeocode",o,function(e){var t=[],i;e&&!e.error&&(i=r.latLng(e.location.y,e.location.x),t.push({name:e.address.Match_addr,center:i,bounds:r.latLngBounds(i,i)})),n.call(s,t)})}}),factory:function(e,t){return new r.Control.Geocoder.ArcGis(e,t)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../util":13}],3:[function(e,t,n){(function(n){var r=typeof window!="undefined"?window.L:typeof n!="undefined"?n.L:null,i=e("../util");t.exports={"class":r.Class.extend({initialize:function(e){this.key=e},geocode:function(e,t,n){i.jsonp("https://dev.virtualearth.net/REST/v1/Locations",{query:e,key:this.key},function(e){var i=[];if(e.resourceSets.length>0)for(var s=e.resourceSets[0].resources.length-1;s>=0;s--){var o=e.resourceSets[0].resources[s],u=o.bbox;i[s]={name:o.name,bbox:r.latLngBounds([u[0],u[1]],[u[2],u[3]]),center:r.latLng(o.point.coordinates)}}t.call(n,i)},this,"jsonp")},reverse:function(e,t,n,s){i.jsonp("//dev.virtualearth.net/REST/v1/Locations/"+e.lat+","+e.lng,{key:this.key},function(e){var t=[];for(var i=e.resourceSets[0].resources.length-1;i>=0;i--){var o=e.resourceSets[0].resources[i],u=o.bbox;t[i]={name:o.name,bbox:r.latLngBounds([u[0],u[1]],[u[2],u[3]]),center:r.latLng(o.point.coordinates)}}n.call(s,t)},this,"jsonp")}}),factory:function(e){return new r.Control.Geocoder.Bing(e)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../util":13}],4:[function(e,t,n){(function(n){var r=typeof window!="undefined"?window.L:typeof n!="undefined"?n.L:null,i=e("../util");t.exports={"class":r.Class.extend({options:{serviceUrl:"https://maps.googleapis.com/maps/api/geocode/json",geocodingQueryParams:{},reverseQueryParams:{}},initialize:function(e,t){this._key=e,r.setOptions(this,t),this.options.serviceUrl=this.options.service_url||this.options.serviceUrl},geocode:function(e,t,n){var s={address:e};this._key&&this._key.length&&(s.key=this._key),s=r.Util.extend(s,this.options.geocodingQueryParams),i.getJSON(this.options.serviceUrl,s,function(e){var i=[],s,o,u;if(e.results&&e.results.length)for(var a=0;a<=e.results.length-1;a++)s=e.results[a],o=r.latLng(s.geometry.location),u=r.latLngBounds(r.latLng(s.geometry.viewport.northeast),r.latLng(s.geometry.viewport.southwest)),i[a]={name:s.formatted_address,bbox:u,center:o,properties:s.address_components};t.call(n,i)})},reverse:function(e,t,n,s){var o={latlng:encodeURIComponent(e.lat)+","+encodeURIComponent(e.lng)};o=r.Util.extend(o,this.options.reverseQueryParams),this._key&&this._key.length&&(o.key=this._key),i.getJSON(this.options.serviceUrl,o,function(e){var t=[],i,o,u;if(e.results&&e.results.length)for(var a=0;a<=e.results.length-1;a++)i=e.results[a],o=r.latLng(i.geometry.location),u=r.latLngBounds(r.latLng(i.geometry.viewport.northeast),r.latLng(i.geometry.viewport.southwest)),t[a]={name:i.formatted_address,bbox:u,center:o,properties:i.address_components};n.call(s,t)})}}),factory:function(e,t){return new r.Control.Geocoder.Google(e,t)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../util":13}],5:[function(e,t,n){(function(n){var r=typeof window!="undefined"?window.L:typeof n!="undefined"?n.L:null,i=e("../util");t.exports={"class":r.Class.extend({options:{geocodeUrl:"http://geocoder.api.here.com/6.2/geocode.json",reverseGeocodeUrl:"http://reverse.geocoder.api.here.com/6.2/reversegeocode.json",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",geocodingQueryParams:{},reverseQueryParams:{}},initialize:function(e){r.setOptions(this,e)},geocode:function(e,t,n){var i={searchtext:e,gen:9,app_id:this.options.app_id,app_code:this.options.app_code,jsonattributes:1};i=r.Util.extend(i,this.options.geocodingQueryParams),this.getJSON(this.options.geocodeUrl,i,t,n)},reverse:function(e,t,n,i){var s={prox:encodeURIComponent(e.lat)+","+encodeURIComponent(e.lng),mode:"retrieveAddresses",app_id:this.options.app_id,app_code:this.options.app_code,gen:9,jsonattributes:1};s=r.Util.extend(s,this.options.reverseQueryParams),this.getJSON(this.options.reverseGeocodeUrl,s,n,i)},getJSON:function(e,t,n,s){i.getJSON(e,t,function(e){var t=[],i,o,u;if(e.response.view&&e.response.view.length)for(var a=0;a<=e.response.view[0].result.length-1;a++)i=e.response.view[0].result[a].location,o=r.latLng(i.displayPosition.latitude,i.displayPosition.longitude),u=r.latLngBounds(r.latLng(i.mapView.topLeft.latitude,i.mapView.topLeft.longitude),r.latLng(i.mapView.bottomRight.latitude,i.mapView.bottomRight.longitude)),t[a]={name:i.address.label,bbox:u,center:o};n.call(s,t)})}}),factory:function(e){return new r.Control.Geocoder.HERE(e)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../util":13}],6:[function(e,t,n){(function(n){var r=typeof window!="undefined"?window.L:typeof n!="undefined"?n.L:null,i=e("../util");t.exports={"class":r.Class.extend({options:{serviceUrl:"https://api.tiles.mapbox.com/v4/geocode/mapbox.places-v1/",geocodingQueryParams:{},reverseQueryParams:{}},initialize:function(e,t){r.setOptions(this,t),this.options.geocodingQueryParams.access_token=e,this.options.reverseQueryParams.access_token=e},geocode:function(e,t,n){var s=this.options.geocodingQueryParams;typeof s.proximity!="undefined"&&s.proximity.hasOwnProperty("lat")&&s.proximity.hasOwnProperty("lng")&&(s.proximity=s.proximity.lng+","+s.proximity.lat),i.getJSON(this.options.serviceUrl+encodeURIComponent(e)+".json",s,function(e){var i=[],s,o,u;if(e.features&&e.features.length)for(var a=0;a<=e.features.length-1;a++)s=e.features[a],o=r.latLng(s.center.reverse()),s.hasOwnProperty("bbox")?u=r.latLngBounds(r.latLng(s.bbox.slice(0,2).reverse()),r.latLng(s.bbox.slice(2,4).reverse())):u=r.latLngBounds(o,o),i[a]={name:s.place_name,bbox:u,center:o};t.call(n,i)})},suggest:function(e,t,n){return this.geocode(e,t,n)},reverse:function(e,t,n,s){i.getJSON(this.options.serviceUrl+encodeURIComponent(e.lng)+","+encodeURIComponent(e.lat)+".json",this.options.reverseQueryParams,function(e){var t=[],i,o,u;if(e.features&&e.features.length)for(var a=0;a<=e.features.length-1;a++)i=e.features[a],o=r.latLng(i.center.reverse()),i.hasOwnProperty("bbox")?u=r.latLngBounds(r.latLng(i.bbox.slice(0,2).reverse()),r.latLng(i.bbox.slice(2,4).reverse())):u=r.latLngBounds(o,o),t[a]={name:i.place_name,bbox:u,center:o};n.call(s,t)})}}),factory:function(e,t){return new r.Control.Geocoder.Mapbox(e,t)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../util":13}],7:[function(e,t,n){(function(n){var r=typeof window!="undefined"?window.L:typeof n!="undefined"?n.L:null,i=e("../util");t.exports={"class":r.Class.extend({options:{serviceUrl:"https://www.mapquestapi.com/geocoding/v1"},initialize:function(e,t){this._key=decodeURIComponent(e),r.Util.setOptions(this,t)},_formatName:function(){var e=[],t;for(t=0;t<arguments.length;t++)arguments[t]&&e.push(arguments[t]);return e.join(", ")},geocode:function(e,t,n){i.jsonp(this.options.serviceUrl+"/address",{key:this._key,location:e,limit:5,outFormat:"json"},function(e){var i=[],s,o;if(e.results&&e.results[0].locations)for(var u=e.results[0].locations.length-1;u>=0;u--)s=e.results[0].locations[u],o=r.latLng(s.latLng),i[u]={name:this._formatName(s.street,s.adminArea4,s.adminArea3,s.adminArea1),bbox:r.latLngBounds(o,o),center:o};t.call(n,i)},this)},reverse:function(e,t,n,s){i.jsonp(this.options.serviceUrl+"/reverse",{key:this._key,location:e.lat+","+e.lng,outputFormat:"json"},function(e){var t=[],i,o;if(e.results&&e.results[0].locations)for(var u=e.results[0].locations.length-1;u>=0;u--)i=e.results[0].locations[u],o=r.latLng(i.latLng),t[u]={name:this._formatName(i.street,i.adminArea4,i.adminArea3,i.adminArea1),bbox:r.latLngBounds(o,o),center:o};n.call(s,t)},this)}}),factory:function(e,t){return new r.Control.Geocoder.MapQuest(e,t)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../util":13}],8:[function(e,t,n){(function(n){var r=typeof window!="undefined"?window.L:typeof n!="undefined"?n.L:null,i=e("../util");t.exports={"class":r.Class.extend({options:{serviceUrl:"https://search.mapzen.com/v1",geocodingQueryParams:{},reverseQueryParams:{}},initialize:function(e,t){r.Util.setOptions(this,t),this._apiKey=e,this._lastSuggest=0},geocode:function(e,t,n){var s=this;i.getJSON(this.options.serviceUrl+"/search",r.extend({api_key:this._apiKey,text:e},this.options.geocodingQueryParams),function(e){t.call(n,s._parseResults(e,"bbox"))})},suggest:function(e,t,n){var s=this;i.getJSON(this.options.serviceUrl+"/autocomplete",r.extend({api_key:this._apiKey,text:e},this.options.geocodingQueryParams),r.bind(function(e){e.geocoding.timestamp>this._lastSuggest&&(this._lastSuggest=e.geocoding.timestamp,t.call(n,s._parseResults(e,"bbox")))},this))},reverse:function(e,t,n,s){var o=this;i.getJSON(this.options.serviceUrl+"/reverse",r.extend({api_key:this._apiKey,"point.lat":e.lat,"point.lon":e.lng},this.options.reverseQueryParams),function(e){n.call(s,o._parseResults(e,"bounds"))})},_parseResults:function(e,t){var n=[];return r.geoJson(e,{pointToLayer:function(e,t){return r.circleMarker(t)},onEachFeature:function(e,i){var s={},o,u;i.getBounds?(o=i.getBounds(),u=o.getCenter()):(u=i.getLatLng(),o=r.latLngBounds(u,u)),s.name=i.feature.properties.label,s.center=u,s[t]=o,s.properties=i.feature.properties,n.push(s)}}),n}}),factory:function(e,t){return new r.Control.Geocoder.Mapzen(e,t)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../util":13}],9:[function(e,t,n){(function(n){var r=typeof window!="undefined"?window.L:typeof n!="undefined"?n.L:null,i=e("../util");t.exports={"class":r.Class.extend({options:{serviceUrl:"https://nominatim.openstreetmap.org/",geocodingQueryParams:{},reverseQueryParams:{},htmlTemplate:function(e){var t=e.address,n=[];return(t.road||t.building)&&n.push("{building} {road} {house_number}"),(t.city||t.town||t.village||t.hamlet)&&n.push('<span class="'+(n.length>0?"leaflet-control-geocoder-address-detail":"")+'">{postcode} {city} {town} {village} {hamlet}</span>'),(t.state||t.country)&&n.push('<span class="'+(n.length>0?"leaflet-control-geocoder-address-context":"")+'">{state} {country}</span>'),i.template(n.join("<br/>"),t,!0)}},initialize:function(e){r.Util.setOptions(this,e)},geocode:function(e,t,n){i.jsonp(this.options.serviceUrl+"search",r.extend({q:e,limit:5,format:"json",addressdetails:1},this.options.geocodingQueryParams),function(e){var i=[];for(var s=e.length-1;s>=0;s--){var o=e[s].boundingbox;for(var u=0;u<4;u++)o[u]=parseFloat(o[u]);i[s]={icon:e[s].icon,name:e[s].display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(e[s]):undefined,bbox:r.latLngBounds([o[0],o[2]],[o[1],o[3]]),center:r.latLng(e[s].lat,e[s].lon),properties:e[s]}}t.call(n,i)},this,"json_callback")},reverse:function(e,t,n,s){i.jsonp(this.options.serviceUrl+"reverse",r.extend({lat:e.lat,lon:e.lng,zoom:Math.round(Math.log(t/256)/Math.log(2)),addressdetails:1,format:"json"},this.options.reverseQueryParams),function(e){var t=[],i;e&&e.lat&&e.lon&&(i=r.latLng(e.lat,e.lon),t.push({name:e.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(e):undefined,center:i,bounds:r.latLngBounds(i,i),properties:e})),n.call(s,t)},this,"json_callback")}}),factory:function(e){return new r.Control.Geocoder.Nominatim(e)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../util":13}],10:[function(e,t,n){(function(n){var r=typeof window!="undefined"?window.L:typeof n!="undefined"?n.L:null,i=e("../util");t.exports={"class":r.Class.extend({options:{serviceUrl:"https://photon.komoot.de/api/",reverseUrl:"https://photon.komoot.de/reverse/",nameProperties:["name","street","suburb","hamlet","town","city","state","country"]},initialize:function(e){r.setOptions(this,e)},geocode:function(e,t,n){var s=r.extend({q:e},this.options.geocodingQueryParams);i.getJSON(this.options.serviceUrl,s,r.bind(function(e){t.call(n,this._decodeFeatures(e))},this))},suggest:function(e,t,n){return this.geocode(e,t,n)},reverse:function(e,t,n,s){var o=r.extend({lat:e.lat,lon:e.lng},this.options.geocodingQueryParams);i.getJSON(this.options.reverseUrl,o,r.bind(function(e){n.call(s,this._decodeFeatures(e))},this))},_decodeFeatures:function(e){var t=[],n,i,s,o,u,a;if(e&&e.features)for(n=0;n<e.features.length;n++)i=e.features[n],s=i.geometry.coordinates,o=r.latLng(s[1],s[0]),u=i.properties.extent,u?a=r.latLngBounds([u[1],u[0]],[u[3],u[2]]):a=r.latLngBounds(o,o),t.push({name:this._deocodeFeatureName(i),html:this.options.htmlTemplate?this.options.htmlTemplate(i):undefined,center:o,bbox:a,properties:i.properties});return t},_deocodeFeatureName:function(e){var t,n;for(t=0;!n&&t<this.options.nameProperties.length;t++)n=e.properties[this.options.nameProperties[t]];return n}}),factory:function(e){return new r.Control.Geocoder.Photon(e)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../util":13}],11:[function(e,t,n){(function(n){var r=typeof window!="undefined"?window.L:typeof n!="undefined"?n.L:null,i=e("../util");t.exports={"class":r.Class.extend({options:{serviceUrl:"https://api.what3words.com/v2/"},initialize:function(e){this._accessToken=e},geocode:function(e,t,n){i.getJSON(this.options.serviceUrl+"forward",{key:this._accessToken,addr:e.split(/\s+/).join(".")},function(e){var i=[],s,o,u;e.hasOwnProperty("geometry")&&(o=r.latLng(e.geometry.lat,e.geometry.lng),u=r.latLngBounds(o,o),i[0]={name:e.words,bbox:u,center:o}),t.call(n,i)})},suggest:function(e,t,n){return this.geocode(e,t,n)},reverse:function(e,t,n,s){i.getJSON(this.options.serviceUrl+"reverse",{key:this._accessToken,coords:[e.lat,e.lng].join(",")},function(e){var t=[],i,o,u;e.status.status==200&&(o=r.latLng(e.geometry.lat,e.geometry.lng),u=r.latLngBounds(o,o),t[0]={name:e.words,bbox:u,center:o}),n.call(s,t)})}}),factory:function(e){return new r.Control.Geocoder.What3Words(e)}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../util":13}],12:[function(e,t,n){(function(n){var r=typeof window!="undefined"?window.L:typeof n!="undefined"?n.L:null,i=e("./control"),s=e("./geocoders/nominatim"),o=e("./geocoders/bing"),u=e("./geocoders/mapquest"),a=e("./geocoders/mapbox"),f=e("./geocoders/what3words"),l=e("./geocoders/google"),c=e("./geocoders/photon"),h=e("./geocoders/mapzen"),p=e("./geocoders/arcgis"),d=e("./geocoders/here");t.exports=r.Util.extend(i["class"],{Nominatim:s["class"],nominatim:s.factory,Bing:o["class"],bing:o.factory,MapQuest:u["class"],mapQuest:u.factory,Mapbox:a["class"],mapbox:a.factory,What3Words:f["class"],what3words:f.factory,Google:l["class"],google:l.factory,Photon:c["class"],photon:c.factory,Mapzen:h["class"],mapzen:h.factory,ArcGis:p["class"],arcgis:p.factory,HERE:d["class"],here:d.factory}),r.Util.extend(r.Control,{Geocoder:t.exports,geocoder:i.factory})}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./control":1,"./geocoders/arcgis":2,"./geocoders/bing":3,"./geocoders/google":4,"./geocoders/here":5,"./geocoders/mapbox":6,"./geocoders/mapquest":7,"./geocoders/mapzen":8,"./geocoders/nominatim":9,"./geocoders/photon":10,"./geocoders/what3words":11}],13:[function(e,t,n){(function(e){var n=typeof window!="undefined"?window.L:typeof e!="undefined"?e.L:null,r=0,i=function(){function r(e){return n[e]}var e=/[&<>"'`]/g,t=/[&<>"'`]/,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return function(n){return n==null?"":n?(n=""+n,t.test(n)?n.replace(e,r):n):n+""}}();t.exports={jsonp:function(e,t,i,s,o){var u="_l_geocoder_"+r++;t[o||"callback"]=u,window[u]=n.Util.bind(i,s);var a=document.createElement("script");a.type="text/javascript",a.src=e+n.Util.getParamString(t),a.id=u,document.getElementsByTagName("head")[0].appendChild(a)},getJSON:function(e,t,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState!==4)return;if(i.status!==200&&i.status!==304){r("");return}r(JSON.parse(i.response))},i.open("GET",e+n.Util.getParamString(t),!0),i.setRequestHeader("Accept","application/json"),i.send(null)},template:function(e,t){return e.replace(/\{ *([\w_]+) *\}/g,function(e,n){var r=t[n];return r===undefined?r="":typeof r=="function"&&(r=r(t)),i(r)})},htmlEscape:i}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[12])(12)});