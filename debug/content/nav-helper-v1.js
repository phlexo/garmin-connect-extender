jQuery(document).ready(function(){if(signedinGetCookie("GARMIN-SSO")==1){jQuery("html").addClass("signed-in");var a=jQuery(".nav-dash-container a");var b=jQuery(".nav-signout-container a");b.on("click",connectHandleSignOut);jQuery("a.connect-brand").attr("href","/modern/")}else{handleCountrySelectorClick();initCountrySelector()}});function connectHandleSignOut(a){a.preventDefault();jQuery('<iframe src="'+jQuery(this).attr("href")+'" style="position:absolute; right: 0px; top: 0px; width: 100px; height: 30px;visibility:hidden;"></iframe>').appendTo("body").load(function(){window.location.reload(true)})}function initCountrySelector(){jQuery("#global-header-wrapper").on("click",".country-selector .dropdown a",function(f){garminLog("locale selector event called!",f.locale);var a=jQuery(this).attr("data-locale");var c=jQuery(this).attr("href");var j=".garmin.com";var i=window.location;var g=i.hostname;var d=g.indexOf(".cn")!=-1?true:false;if(d&&a!="zh-CN"){g=g.replace(".cn",".com");var b='<iframe src="//'+g+"/en-US/cookiefix/"+a+'/" height="20" width="20" style="position:absolute; right: -30px; top: 0px; border: none;" id="cookiefix"/>';jQuery(b).appendTo("body").load(function(){window.location.href=i.href.replace("garmin.cn","garmin.com")})}else{garminGlobalStore.setGlobal("locale",a);garminGlobalStore.setGlobal("language",a.substr(0,2));garminGlobalStore.setGlobal("country",a.substr(3,2));document.cookie="GarminUserPrefs="+a+"; path=/; domain="+j+";";var h=a.replace("-","_");document.cookie="GarminLocalePref="+h+"; path=/; domain="+j+";";garminEvent.trigger("api:locale-selector:select",{locale:a,href:c,originalEvent:f})}})}function handleCountrySelectorClick(){jQuery(".header .utility").on("click",".country-selector > a",function(b){b.preventDefault();var a=jQuery(".country-selector .dropdown");if(a.is(":hidden")){a.slideDown("fast")}else{a.slideUp("fast")}jQuery(".nav-utility .menu-wrapper .sub-nav").slideUp("fast")});jQuery(".header .utility").on("click",function(a){if(jQuery(a.target).hasClass("utility-trigger")){jQuery(".country-selector .dropdown").slideUp("fast")}})}function writeGarminGlobalCookies(a){}function stripScripts(c){var d=document.createElement("div");d.innerHTML=c;var a=d.getElementsByTagName("script");var b=a.length;while(b--){a[b].parentNode.removeChild(a[b])}return d.innerHTML}function signedinGetCookie(b){var c,a,e,d=document.cookie.split(";");for(c=0;c<d.length;c++){a=d[c].substr(0,d[c].indexOf("="));e=d[c].substr(d[c].indexOf("=")+1);a=a.replace(/^\s+|\s+$/g,"");if(a==b){return unescape(e)}}}var Base64=(function(){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var d=function(k){var j="",m,l;k=k.replace(/\r\n/g,"\n");for(l=0;l<k.length;l++){m=k.charCodeAt(l);if(m<128){j+=String.fromCharCode(m)}else{if((m>127)&&(m<2048)){j+=String.fromCharCode((m>>6)|192);j+=String.fromCharCode((m&63)|128)}else{j+=String.fromCharCode((m>>12)|224);j+=String.fromCharCode(((m>>6)&63)|128);j+=String.fromCharCode((m&63)|128)}}}return j};var i=function(j){var k="",m=0,o=0,n=0,l=0;while(m<j.length){o=j.charCodeAt(m);if(o<128){k+=String.fromCharCode(o);m++}else{if((o>191)&&(o<224)){n=j.charCodeAt(m+1);k+=String.fromCharCode(((o&31)<<6)|(n&63));m+=2}else{n=j.charCodeAt(m+1);l=j.charCodeAt(m+2);k+=String.fromCharCode(((o&15)<<12)|((n&63)<<6)|(l&63));m+=3}}}return k};var h=function(k){var j="",l;for(l=0;l<k.length;l++){j+=k.charCodeAt(l).toString(16)}return j};var c=function(k){var j="",l;if(k.length%2>0){k="0"+k}for(l=0;l<k.length;l=l+2){j+=String.fromCharCode(parseInt(k.charAt(l)+k.charAt(l+1),16))}return j};var f=function(l){var j="",s,q,o,r,p,n,m,k=0;l=d(l);while(k<l.length){s=l.charCodeAt(k++);q=l.charCodeAt(k++);o=l.charCodeAt(k++);r=s>>2;p=((s&3)<<4)|(q>>4);n=((q&15)<<2)|(o>>6);m=o&63;if(isNaN(q)){n=m=64}else{if(isNaN(o)){m=64}}j+=g.charAt(r);j+=g.charAt(p);j+=g.charAt(n);j+=g.charAt(m)}return j};var a=function(l){var j="",s,q,o,r,p,n,m,k=0;l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(k<l.length){r=g.indexOf(l.charAt(k++));p=g.indexOf(l.charAt(k++));n=g.indexOf(l.charAt(k++));m=g.indexOf(l.charAt(k++));s=(r<<2)|(p>>4);q=((p&15)<<4)|(n>>2);o=((n&3)<<6)|m;j+=String.fromCharCode(s);if(n!==64){j+=String.fromCharCode(q)}if(m!==64){j+=String.fromCharCode(o)}}return i(j)};var e=function(j){return h(a(j))};var b=function(j){return f(c(j))};return{encode:f,decode:a,decodeToHex:e,encodeFromHex:b}}());