define(["underscore","localizer","backbone","text!pages/course/templates/views/CourseAlertMessage.html"],function(e,t,n,r){var i={Small:"relative bottom",Long:""},s={Success:"alert-success",Error:"alert-error",Info:"alert-info",Warning:"alert-warning"},o=n.View.extend({template:e.template(r),className:"alert",events:{"click #alert":"onDismissLinkClicked","click a[data-action]":"onLinkClicked"},initialize:function(e){if(!e.message)throw"a message is required for the alert.";return this.message=e.message,this.size=e.size||i.Long,this.alertType=e.alertType||s.Success,this.showAlert=e.showAlert||!1,this.callback=e.callback,this.localizeArgs=e.localizeArgs,this},render:function(){return this.$el.html(this.template({Localizer:t,message:this.message,args:this.localizeArgs})),this.updateSizeInUI(),this.updateAlertTypeInUI(),this.showAlert?this.displayAlert():this.hideAlert(),this},setMessage:function(e){return e?(this.message=e,!0):this.message?!0:!1},setSize:function(e){if(e){if(e==="small")return this.size=i.Small,!0;if(e==="long")return this.size=i.Long,!0;if(e===i.Long||e===i.Small)return this.size=e,!0}return this.size?!0:!1},setAlertType:function(e){if(e){if(e==="success")return this.alertType=s.Success,!0;if(e==="error")return this.alertType=s.Error,!0;if(e==="info")return this.alertType=s.Info,!0;if(e==="warning")return this.alertType=s.Warning,!0;if(e===s.Success||e===s.Error||e===s.Info||s.Warning)return this.alertType=e,!0}return this.alertType?!0:!1},updateSizeInUI:function(){this.size===i.Small?this.$el.addClass(i.Small):this.size===i.Long&&this.$el.removeClass(i.Small)},updateAlertTypeInUI:function(){this.alertType===s.Success?(this.$el.addClass(s.Success),this.$el.removeClass(s.Error),this.$el.removeClass(s.Info)):this.alertType===s.Error?(this.$el.addClass(s.Error),this.$el.removeClass(s.Success),this.$el.removeClass(s.Info)):this.alertType===s.Info?(this.$el.addClass(s.Info),this.$el.removeClass(s.Error),this.$el.removeClass(s.Success)):this.alertType===s.Warning&&(this.$el.addClass(s.Warning),this.$el.removeClass(s.Error),this.$el.removeClass(s.Success),this.$el.removeClass(s.Info))},setAndRenderAlert:function(e,t,n,r,i){var s=this.setMessage(e),o=this.setSize(t),u=this.setAlertType(n);this.localizeArgs=i,s&&o&&u&&(this.showAlert=!0,this.callback=r,this.render())},displayAlert:function(){this.$el.show()},hideAlert:function(){this.$el.hide()},onDismissLinkClicked:function(e){e.preventDefault(),this.hideAlert()},onLinkClicked:function(e){e.preventDefault(),this.callback&&this.callback(),this.hideAlert()}});return o.Size=i,o.AlertType=s,o});