/*! garmin.lib-v1.1-min.js Tag: missing */
/*!
 * contentloaded.js
 *
 * Author: Diego Perini (diego.perini at gmail.com)
 * Summary: cross-browser wrapper for DOMContentLoaded
 * Updated: 20101020
 * License: MIT
 * Version: 1.2
 *
 * URL:
 * http://javascript.nwbox.com/ContentLoaded/
 * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE
 *
 */
function contentLoaded(d,i,a){var c=false,h=true,a=a||d,k=d.document,j=k.documentElement,n=k.addEventListener?"addEventListener":"attachEvent",l=k.addEventListener?"removeEventListener":"detachEvent",b=k.addEventListener?"":"on",m=function(o){if(o.type=="readystatechange"&&k.readyState!="complete"){return}(o.type=="load"?d:k)[l](b+o.type,m,false);if(!c&&(c=true)){i.call(a,o.type||o)}},g=function(){try{j.doScroll("left")}catch(o){setTimeout(g,50);return}m("poll")};if(k.readyState=="complete"){i.call(a,"lazy")}else{if(k.createEventObject&&j.doScroll){try{h=!d.frameElement}catch(f){}if(h){g()}}k[n](b+"DOMContentLoaded",m,false);k[n](b+"readystatechange",m,false);d[n](b+"load",m,false)}}if(Garmin==undefined){var Garmin={}}var detectableWithVB=false;var PluginDetect={init:function(){if((navigator.userAgent.indexOf("MSIE")!=-1)&&(navigator.userAgent.indexOf("Win")!=-1)){document.writeln('<script language="VBscript">');document.writeln("'do a one-time test for a version of VBScript that can handle this code");document.writeln("detectableWithVB = False");document.writeln("If ScriptEngineMajorVersion >= 2 then");document.writeln("  detectableWithVB = True");document.writeln("End If");document.writeln("'this next function will detect most plugins");document.writeln("Function detectActiveXControl(activeXControlName)");document.writeln("  on error resume next");document.writeln("  detectActiveXControl = False");document.writeln("  If detectableWithVB Then");document.writeln("     detectActiveXControl = IsObject(CreateObject(activeXControlName))");document.writeln("  End If");document.writeln("End Function");document.writeln("<\/script>")}},canDetectPlugins:function(){if(detectableWithVB||(navigator.plugins&&navigator.plugins.length>0)){return true}else{return false}},detectFlash:function(){var a=PluginDetect.detectPlugin("Shockwave","Flash");if(!a&&detectableWithVB){a=detectActiveXControl("ShockwaveFlash.ShockwaveFlash.1")}return a},detectGarminCommunicatorPlugin:function(){var a=PluginDetect.detectPlugin("Garmin Communicator");if(!a&&detectableWithVB){a=detectActiveXControl("GARMINAXCONTROL.GarminAxControl_t.1")}return a},detectPlugin:function(){var c=PluginDetect.detectPlugin.arguments;var b=false;if(navigator.plugins&&navigator.plugins.length>0){var a=navigator.plugins.length;for(pluginsArrayCounter=0;pluginsArrayCounter<a;pluginsArrayCounter++){var d=0;for(namesCounter=0;namesCounter<c.length;namesCounter++){if((navigator.plugins[pluginsArrayCounter].name.indexOf(c[namesCounter])>=0)||(navigator.plugins[pluginsArrayCounter].description.indexOf(c[namesCounter])>=0)){d++}}if(d==c.length){b=true;break}}}return b}};PluginDetect.init();(function(a,b){if(!window[b]){window[b]=function(){if(a&&a.log){try{a.log.apply(a,arguments)}catch(c){}}}}})(window.console,"garminLog");(function(b){function a(){this.events=[];return this.init()}a.prototype.init=function(){return this};a.prototype.on=function(d,f,e){if(!this.events.hasOwnProperty(d)){this.events[d]=[]}var g=typeof e==="object"?e:arguments.callee.caller;if(!this.getEvents(d,f,g).length){this.events[d].push({name:d,func:f,context:g})}};a.prototype.off=function(f,k,j){var h=this.getEvents(f,k,j);if(h.length){for(var g=0,d=h.length;g<d;g++){for(var l in this.events[f]){if(this.events[f].hasOwnProperty(l)){if(h[g]===this.events[f][l]){delete this.events[f][l]}}}}}};a.prototype.getEvents=function(d,k,j){var h=[];if(this.events.hasOwnProperty(d)){for(var g in this.events[d]){if(this.events[d].hasOwnProperty(g)){var m=this.events[d][g];var l=true,f=true;if(j&&typeof j==="object"){l=j===m.context?true:false}if(k&&typeof k==="function"){f=k===m.func?true:false}if(f&&l){h.push(m)}}}}return h};a.prototype.trigger=function(f){if(f&&f.length&&this.events.hasOwnProperty(f)){var g=[];for(var h=1,d=arguments.length;h<d;h++){g[h-1]=arguments[h]}for(var h in this.events[f]){if(this.events[f].hasOwnProperty(h)){var j=this.events[f][h];j.func.apply(j.context,g)}}}};if(!b.garminEvent){b.garminEvent=new a(this);var c=function(){b.garminEvent.trigger("document:ready")};if(typeof window.jQuery!="undefined"){jQuery(document).ready(c)}else{if(typeof window.contentLoaded!="undefined"){contentLoaded(window,c)}}}})(window);(function(b,a,f){function d(){this.init()}d.prototype.init=function(){this.cookieName="GarminGlobalStorage"};d.prototype.getCookie=function(e){return e};d.prototype.getGlobal=function(e){e=e&&e.length?"global."+e:"global";return this._get(e)};d.prototype.getApplication=function(e){e=e&&e.length?"application."+e:"application";return this._get(e)};d.prototype._get=function(l){var j=this._getStore();var k=l.split(".");for(var h=0,e=k.length;h<e;h++){var g=k[h];if(j.hasOwnProperty(g)){j=j[g]}else{return false}}return j};d.prototype.setGlobal=function(g,e){g=g&&g.length?"global."+g:"global";return this._set(g,e)};d.prototype.setApplication=function(g,e){g=g&&g.length?"application."+g:"application";return this._set(g,e)};d.prototype._set=function(m,l){var j=this._getStore();var k=m.split(".");for(var h=0,e=k.length;h<e;h++){var g=k[h];if(h==e-1){j[g]=l}else{if(j.hasOwnProperty(g)){j=j[g]}else{j=j[g]={}}}}return this._setStore()};d.prototype.delGlobal=function(e){e=e&&e.length?"global."+e:"global";return this._del(e)};d.prototype.delApplication=function(e){e=e&&e.length?"application."+e:"application";return this._del(e)};d.prototype._del=function(l){var j=this._getStore();var k=l.split(".");for(var h=0,e=k.length;h<e;h++){var g=k[h];if(h==e-1){delete j[g]}else{if(j.hasOwnProperty(g)){j=j[g]}else{j=j[g]={}}}}return this._setStore()};d.prototype._getStore=function(){var e=this.getCookie(this.cookieName);this.data=e?JSON.parse(e):{};return this.data};d.prototype._setStore=function(){var e=this.data;this.setCookie(this.cookieName,JSON.stringify(e),3650);return e};d.prototype.getCookie=function(l){var k=a.cookie.split(";");for(var j=0,e=k.length;j<e;j++){var h=k[j].split("=");var g=h[0].replace(/^\s+|\s+$/g,"");if(g==l){return unescape(h[1])}}};d.prototype.setCookie=function(j,h,e){var i=new Date();i.setDate(i.getDate()+e);var g=escape(h)+((e==null)?"":"; expires="+i.toUTCString()+";domain=.garmin.com;path=/");a.cookie=j+"="+g};if(!("garminGlobalStore" in b)){b.garminGlobalStore={};try{b.garminGlobalStore=new d()}catch(c){}}})(window,document);(function(c,a,f){function b(){this.init()}b.prototype.init=function(){var e=this.detectEnvironment();for(key in e){this[key]=e[key]}};b.prototype.detectEnvironment=function(){var n=this.env={user:{},browser:{},os:{},device:{},global:{}};var i=navigator.platform;var t=navigator.userAgent.toLowerCase();var l=this.browser(t);n.device.touch="ontouchstart" in a?"supported":"unavailable";n.device.screen={pixelRatio:0};if(screen&&screen.height&&screen.width){n.device.screen.resolution={x:screen.width,y:screen.height}}if(c.devicePixelRatio){n.device.screen.pixelRatio=c.devicePixelRatio}if(/^Win/i.test(i)){n.os.vendor="Microsoft";n.os.family="Windows";n.os.arch=32;n.browser.arch=32;n.device.cpu="Intel";n.device.type="desktop";n.os.nameFull=n.os.vendor+" "+n.os.family;if(/win64|x64/i.test(t)){n.os.arch=64;n.browser.arch=64}if(/wow64/i.test(t)){n.os.arch=64;n.browser.arch=32}if(/;?\s*?arm;?/i.test(t)){n.device.cpu="arm"}if(/windows nt \d\.\d/i.test(t)){p=t.match(/windows nt (\d+)\.(\d+)/i);n.os.version=p[1]+"."+p[2];n.os.versionFull=n.os.version;n.os.versionMajor=p[1];n.os.versionMinor=p[2];var r={5:["2000","XP"],6:["Vista",7,8,"8.1"]};n.os.name="Windows "+r[p[1]][p[2]];n.os.nameFull+=" "+r[p[1]][p[2]]+" "+n.os.arch+"bit"}}else{if(/^Mac/i.test(i)){n.os.vendor="Apple";n.os.family="Mac";n.os.arch=32;n.device.cpu=i.substr(3);n.device.type="desktop";n.os.nameFull=n.os.vendor+" "+n.os.family;if(/mac os x \d+.\d+/i.test(t)){n.os.name="OS X";p=t.match(/mac os x (\d+).(\d+)(?:.(\d+))?/i);n.os.version=p[1]+"."+p[2];n.os.versionFull=n.os.version;if(typeof p[3]!="undefined"){n.os.versionFull+="."+p[3]}n.os.versionMajor=p[1];n.os.versionMinor=p[2];n.os.versionRevision=p[3];if(n.os.versionMajor>10||(n.os.versionMajor==10&&n.os.versionMinor>5)){n.os.arch=64}var k=["Cheetah","Puma","Jaguar","Panther","Tiger","Leopard","Snow Leopard","Lion","Mountain Lion","Mavericks"];n.os.alias=k[p[2]];n.os.nameFull+=" "+n.os.name;if(typeof n.os.alias!="undefined"){n.os.nameFull+=" "+n.os.alias}n.os.nameFull+=" (v"+n.os.versionFull+") "+n.os.arch+"bit"}}else{if(/^Linux/i.test(i)){n.device.cpu=i.substr(6);n.os.family="Linux";n.device.type="desktop";n.os.nameFull=n.os.family;var h=t.match(/android/i);if(h){n.os.vendor="Google";var p=t.match(/android ([\d\.]*)/i);if(p){n.os.version=p[1]}n.device.type=/mobile/i.test(t)?"mobile":"tablet";n.os.name="Android";n.os.nameFull+=" "+n.os.name;if(p){n.os.nameFull+=" v"+n.os.version}}}else{if(/^iPhone/i.test(i)){n.os.vendor="Apple";n.os.family="Mac";n.os.name="iOS";n.device.name="iPhone/iPod";n.device.type="mobile";n.os.nameFull=n.os.vendor+" "+n.os.family+" "+n.os.name;var p=t.match(/iphone os ([\d\.\_]*)/i);if(p){n.os.version=p[1].split(/\D/).splice(0,2).join(".");n.os.nameFull+=" (v"+n.os.version+")"}}else{if(/^iPad/i.test(i)){n.os.vendor="Apple";n.os.family="Mac";n.os.name="iOS";n.device.name="iPad";n.device.type="tablet";n.os.nameFull=n.os.vendor+" "+n.os.family+" "+n.os.name;var p=t.match(/os ([\d\.\_]*)/i);if(p){n.os.version=p[1].split(/\D/).splice(0,2).join(".");n.os.nameFull+=" (v"+n.os.version+")"}}}}}}n.device.type=n.device.cpu=="arm"&&n.device.type=="desktop"?"tablet":n.device.type;n.browser.activeX=false;n.browser.userAgent=t;n.browser.metro=false;n.browser.majorVersion=parseInt(l.version,10);n.browser.version=l.version;n.browser.engineVersion=l.engineVersion;if(l.msie===true){n.browser.name="Internet Explorer";n.browser.engine="trident";n.browser.activeX="ActiveXObject" in c?"supported":"unavailable";if(n.browser.activeX==="supported"){try{new ActiveXObject("htmlfile")}catch(o){n.browser.activeX="unavailable"}}}else{if(l.chrome===true){n.browser.name="Chrome";n.browser.engine=l.webkit===true?"webkit":null}else{if(l.safari===true){n.browser.name="Safari";n.browser.engine=l.webkit===true?"webkit":null}else{if(l.mozilla===true){n.browser.name="Firefox";n.browser.engine=l.gecko===true?"gecko":null}}}}n.browser.nameFull=(typeof n.browser.name!="undefined")?n.browser.name:"Unknown";n.browser.nameFull+=(typeof n.browser.version!="undefined")?" v"+n.browser.version:"";var q=[];if(typeof n.browser.engine!="undefined"){q.push(n.browser.engine);if(typeof n.browser.engineVersion!="undefined"){q.push("v"+n.browser.engineVersion)}}if(q.length){n.browser.nameFull+=" ("+q.join(" ")+")"}n.browser.nameFull+=" "+n.browser.arch+"bit";var j={isIntel:/^Intel/i.test(n.device.cpu),isPPC:/^PPC/i.test(n.device.cpu),isArm:/^ARM/i.test(n.device.cpu),isWindows:n.os.family=="Windows",isMac:n.os.family=="Mac",isLinux:n.os.family=="Linux",is32bit:n.os.arch==32,is64bit:n.os.arch==64,is32bitBrowser:n.browser.arch==32,is64bitBrowser:n.browser.arch==64,isWebkit:n.browser.engine=="webkit",isGecko:n.browser.engine=="gecko",isTrident:n.browser.engine=="trident",isFirefox:n.browser.name=="Firefox",isChrome:n.browser.name=="Chrome",isSafari:n.browser.name=="Safari",isMSIE:n.browser.name=="Internet Explorer",isMobile:n.device.type=="mobile"||n.device.type=="tablet",isDesktop:n.device.type=="desktop",isTablet:n.device.type=="tablet",isMetro:false,isTouch:n.device.touch==="supported",activeX:n.browser.activeX==="supported",isRetina:n.device.screen.pixelRatio>=2};for(key in j){n[key]=j[key]}n.hasGCP=f;n.isGCPBlocked=f;try{if(typeof PluginDetect!="undefined"){var s=PluginDetect.detectGarminCommunicatorPlugin();n.hasGCP=s;var g=(n.isChrome||n.isSafari)&&n.hasGCP?this._isGCPBlocked:function(){return false};n.isGCPBlocked=g;n.browser.gcp={installed:s,blocked:g}}}catch(o){}if(n.isWindows&&n.os.versionMajor==6&&n.os.versionMinor>=2){if(n.isMSIE){if(n.activeX===false&&"ActiveXObject" in c){n.isMetro=true;n.browser.metro=true;n.os.nameFull+=" Metro"}}else{if(n.isChrome){var m=false;for(plugin in navigator.plugins){if(navigator.plugins[plugin].filename=="npGoogleUpdate3.dll"){m=true;break}}if(!m){n.isMetro=true;n.browser.metro=true}}else{if(n.isFirefox){if(navigator.plugins.length===0){n.isMetro=true;n.browser.metro=true}}}}}this.osLocale();n.user.language=n.os.language?n.os.language:"";n.user.country=n.os.country?n.os.country:"";n.user.locale=n.os.locale?n.os.locale:"";n.user.localeSrc="system";this.browserLocale();if(n.browser.locale){n.user.language=n.browser.language?n.browser.language:"";n.user.country=n.browser.country?n.browser.country:"";n.user.locale=n.browser.locale?n.browser.locale:"";n.user.localeSrc="browser"}this.globalLocale();if(n.global.locale){n.user.language=n.global.language?n.global.language:"";n.user.country=n.global.country?n.global.country:"";n.user.locale=n.global.locale?n.global.locale:"";n.user.localeSrc="global"}return n};b.prototype._isGCPBlocked=function(){var e=this.env;var h=false;var g=a.createElement("object");g.setAttribute("type","application/vnd-garmin.mygarmin");g.style.height="0";g.style.width="0";a.body.appendChild(g);if(typeof g.VersionXml=="undefined"){h=true}a.body.removeChild(g);return h};b.prototype.osLocale=function(){var g=this.env;var h="";if(!h&&navigator.systemLanguage&&navigator.systemLanguage.length){h=navigator.systemLanguage}if(h.length&&typeof h==="string"){var e=h.split(/_|-/);if(e.length>1){g.os.language=e[0].toLowerCase();g.os.country=e[1].toUpperCase();g.os.locale=g.os.language+"-"+g.os.country}else{if(e.length==1){g.os.language=e[0].toLowerCase();g.os.locale=g.os.language}}}};b.prototype.browserLocale=function(){var g=this.env;var e="";if(!e&&navigator.userLanguage&&navigator.userLanguage.length){e=navigator.userLanguage}if(!e&&navigator.systemLanguage&&navigator.systemLanguage.length){e=navigator.systemLanguage}if(!e&&navigator.language&&navigator.language.length){e=navigator.language}if(e.length&&typeof e==="string"){var h=e.split(/_|-/);if(h.length>1){g.browser.language=h[0].toLowerCase();g.browser.country=h[1].toUpperCase();g.browser.locale=g.browser.language+"-"+g.browser.country}else{if(h.length==1){g.browser.language=h[0].toLowerCase();g.browser.locale=g.browser.language}}}};b.prototype.globalLocale=function(){var g=this.env;var e=c.garminGlobalStore.getGlobal("locale");if(e&&typeof e==="string"){var h=e.split(/_|-/);if(h.length>1){g.global.language=h[0].toLowerCase();g.global.country=h[1].toUpperCase();g.global.locale=g.global.language+"-"+g.global.country}else{if(h.length==1){g.global.language=h[0].toLowerCase();g.global.locale=g.global.language}}}};b.prototype.requestLocale=function(g){var h=this.env;var i=h.browser.request=h.browser.request?h.browser.request:{};if(g){var e=g.split(/_|-/);if(e.length>1){i.language=e[0].toLowerCase();i.country=e[1].toUpperCase();i.locale=i.language+"-"+i.country}else{if(e.length==1){i.language=e[0].toLowerCase();i.locale=i.language}}h.user.language=i.language?i.language:"";h.user.country=i.country?i.country:"";h.user.locale=i.locale?i.locale:"";h.user.localeSrc="request"}};b.prototype.getRequestInfo=function(k){var i=this.env;var g=this;try{c.garminEvent.on("garminHost:requestInfo:ready",k);c.parseHttpHeader=function(e){g.setRequestLocale(e);g.setRequestOrigin(e);c.garminEvent.trigger("garminHost:requestInfo:ready",true)};var h=a.createElement("script");h.src="//servicescdn.garmin.com/request-header";h.onerror=function(){c.garminEvent.trigger("garminHost:locale:ready",false);c.garminEvent.trigger("garminHost:origin:ready",false);c.garminEvent.trigger("garminHost:requestInfo:ready",false)};a.getElementsByTagName("head")[0].appendChild(h)}catch(j){}};b.prototype.setRequestLocale=function(e){if(e&&e.HTTP_ACCEPT_LANGUAGE){var g=e.HTTP_ACCEPT_LANGUAGE.split(/,\s*/)[0].split(/;/)[0];this.requestLocale(g)}c.garminEvent.trigger("garminHost:locale:ready",true)};b.prototype.setRequestOrigin=function(g){var e=this.env;if(g&&g.origin){e.device.net={throughput:g.origin["throughput"],bandwidth:g.origin["bw"]};delete g.origin["throughput"];delete g.origin["bw"];e.device.location=g.origin}c.garminEvent.trigger("garminHost:origin:ready",true)};b.prototype.browser=function(i){var h={};h.trident=false;h.msie=false;var j=i.match(/(gecko|webkit|trident)\/([\d\.\_]*)/i);if(j&&j.length==3){h.webkit=/webkit/i.test(j[1]);h.gecko=/gecko/i.test(j[1]);h.trident=/trident/i.test(j[1]);h.engine=j[1].toLowerCase();h.engineVersion=j[2]}var g=i.match(/(crios|chrome|safari|firefox)\/([\d\.\_]*)/i);if(g&&g.length==3){h.chrome=/chrome|crios/i.test(g[1]);h.safari=/safari/i.test(g[1])&&!h.chrome;h.mozilla=/firefox/i.test(g[1]);h.version=g[2]}else{if(c.ActiveXObject||h.trident){h.msie=true;version=i.match(/(?:msie|rv:)\s*([\d\.\_]*)/i);if(version){h.version=version[1]}}}return h};if(!("garminHost" in c)){c.garminHost={};try{c.garminHost=new b()}catch(d){}}})(window,document);(function(l,t,q,b,j){var a=false,y=true,o="UA-31920-104",u="UA-31920-106",r="garmin_global",s=false,d="_garmin_analytics_stack",w=["garmin.com","garmin.ch","garmincdn.com"],x="static.garmincdn.com/com.garmin/virtual-state.html",g="staticdev.garmin.com/com.garmin/virtual-state.html",i="document:ready",m="google.analytics:ready",A="garmin.analytics:ready",f="analytics-url",p="analytics-title",v=1,h={os:{label:"Operating System",slot:1},browser:{label:"Web Browser",slot:2},gcp:{label:"GCP Installed",slot:3},device_type:{label:"Device Type",slot:4},locale:{label:"User Locale",slot:5}};var n=function(){this._gat=false;this.stack=[];this.tracker_iframe=false;this.iframe_queue=[];this.iframe_ready=false;this.options={page_name:false,link_domains:false,ignore_self_referrals:true,referrer_override:false,track_nonhtml_resources:["exe","dmg","docx?","pdf","zip"],track_page_view:true,track_host:false};this._init()};n.prototype={_init:function(){l[d]=l[d]||[];l._gaq=l._gaq||[];this.ga_tracker=false;this.stack=new c(this,l[d]);this.stack.process();if(y){if(a){k("**DEBUG**   Exiting due to disabled flag")}return false}this._load_google_analytics();b.on(i,function(){this._bind_link_handles()},this)},_bind_link_handles:function(){var B=this.options.track_nonhtml_resources,N=B&&(typeof B.length!="undefined")&&B.length>0,G=this.options.link_domains==true;if(!N&&!G){return false}if(G){var L=new RegExp("^https?://(?:[a-z\d]+[a-z\d-]+.)*?("+w.join("|").replace(/\./g,".")+")","i");var M=new RegExp(".?"+this._get_current_toplvl_domain()+"$","i")}if(N){var D=new RegExp(".("+this.options.track_nonhtml_resources.join("|")+")$","i")}var e=t.getElementsByTagName("a"),J=false,K,C;var F=t.addEventListener?"addEventListener":"attachEvent",I=t.addEventListener?"":"on";for(var H=0,E=e.length;H<E;H++){J=false,K=e[H];if(!K.href.length){continue}if(N&&D.test(K.href)){J=this._handle_track_nonhtml_resource}else{if(G&&(C=L.exec(K.href))){if(!M.test(C.pop())){J=this._handle_link_to_garmin_domain}}}if(J){(function(O,P,Q){O[F](I+"click",function(R){P.call(Q,R||l.event,O)},false)})(K,J,this)}}return true},_create_tracker_iframe:function(){if(this.tracker_iframe){this.tracker_iframe.parentNode.removeChild(this.tracker_iframe);this.tracker_iframe=false;if(a){k("**DEBUG**   Recreating Iframe  (after a download was tracked via proxy)")}}this.tracker_iframe=t.createElement("iframe");this.tracker_iframe.style.display="none";this.tracker_iframe.onload=function(){garminAnalytics._iframe_checkin.apply(garminAnalytics)};t.getElementsByTagName("body")[0].appendChild(this.tracker_iframe);this.iframe_ready=true;this.tracker_iframe.recreate_on_next_req=false;this.tracker_iframe.pass_cookies=true;this.tracker_iframe.referrer_queue=[]},_extract_data_attr:function(B,e){return B.getAttribute("data-"+e)},_get_current_toplvl_domain:function(){var B=t.domain,e=B.split(/\./);while(e.length>2){e.shift()}return e.join(".")},_get_virtual_ui_url:function(){return("https:"==t.location.protocol?"https":"http")+"://"+(a?g:x)},_handle_link_to_garmin_domain:function(B,e){this._push_to_google_stack(["_link",e.href,true]);B.preventDefault?B.preventDefault():B.returnValue=false},_handle_track_nonhtml_resource:function(C,M){try{var D=this._extract_data_attr(M,f),E=this._extract_data_attr(M,p);if(M.target=="undefined"||!M.target.length){if(garminHost&&garminHost.isFirefox){M.target="_blank"}}D=M.href;if(!E){E=(M.innerText||M.textContent)}if(D.search(/^https?:\/\//)<0){D=l.location.protocol+"//"+t.domain+D}var L=this._get_virtual_ui_url();var I=D.match(/^(?:https?:\/\/)([^\/]+)(\/.+)/),N=I[1],H=I[2];var F="/virtual/"+N+H;var J=L+"?t=download&v="+encodeURIComponent(F)+"&n="+encodeURIComponent(E),B=J.match(/(https?:\/\/[^\/]+)\//),G=B[1];(function(e){l._gaq.push(function(){e._push_to_iframe(J,G+F)})})(this)}catch(K){}},_iframe_checkin:function(){this.iframe_ready=true;if(this.iframe_queue.length>0){this._iframe_send.apply(this,this.iframe_queue.shift())}},_iframe_send:function(D,B){B=(typeof B!="undefined")?B:D;var e=this.tracker_iframe.referrer_queue,C=e.length?e[e.length-1]:t.location.href;if(this.tracker_iframe.recreate_on_next_req){this._create_tracker_iframe()}if(D.search(/\?/)>0){D=D+"&r="+encodeURIComponent(C)}else{D=D+"?r="+encodeURIComponent(C)}if(this.tracker_iframe.pass_cookies){D=this.ga_tracker._getLinkerUrl(D);this.tracker_iframe.pass_cookies=false}this.iframe_ready=false;this.tracker_iframe.src=D;this.tracker_iframe.recreate_on_next_req=(D.search(/\?t=download/)<0?false:true);if(!this.tracker_iframe.recreate_on_next_req){this.tracker_iframe.referrer_queue.push(B)}},_load_google_analytics:function(){(function(e){l._gaq.push(function(){var D=a?u:o;e.ga_tracker=l._gat._createTracker(D,r);e._push_to_google_stack(function(){b.trigger(m)});e._push_to_google_stack(["_setDomainName","."+e._get_current_toplvl_domain()]);if(e.options.ignore_self_referrals){for(var C=0,E,B=w.length;C<B;C++){E=w[C];e._push_to_google_stack(["_addIgnoredRef",E])}}e._push_to_google_stack(["_setAllowLinker",true]);s=true;e._track_custom_vars();if(e.options.page_name){e._push_to_google_stack(["_set","title",e.options.page_name])}if(e.options.referrer_override){e._push_to_google_stack(["_setReferrerOverride",e.options.referrer_override])}if(e.options.track_page_view){if(typeof e.options.track_page_view=="string"){e._push_to_google_stack(["_trackPageview",e.options.track_page_view])}else{e._push_to_google_stack(["_trackPageview"])}}})})(this);(function(){var B=t.createElement("script");B.type="text/javascript";B.async=true;B.src=("https:"==t.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var e=t.getElementsByTagName("script")[0];e.parentNode.insertBefore(B,e)})()},_push_to_google_stack:function(e){if((typeof e!="function")&&e.length){e[0]=r+"."+e[0]}if(a){k(e)}l._gaq.push(e)},_push_to_iframe:function(C,e){var B=[C,e];if(!this.tracker_iframe){this._create_tracker_iframe()}if(this.iframe_ready){this._iframe_send.apply(this,B)}else{this.iframe_queue.push(B)}},_track_custom_vars:function(){if(typeof q=="undefined"){return false}var G=this.options.track_host;if(G==true){var E=[],F;for(F in h){E.push(F)}G=E}else{if(typeof G.length=="undefined"||!G.length){return false}}var e=h;for(var H=0,J,C,B,I,D=G.length;H<D;H++){J=G[H];if(typeof e[J]!="undefined"){C=e[J].label;B=e[J].slot;switch(J){case"os":I=q.os.nameFull;break;case"browser":I=q.browser.nameFull;break;case"gcp":I=q.hasGCP;if(typeof I=="undefined"){I="Undetermined"}else{I=I?"Yes":"No"}break;case"device_type":I=q.device.type;I=I.charAt(0).toUpperCase()+I.substring(1);break;case"locale":I=q.user.locale;break;default:continue}this._push_to_google_stack(["_setCustomVar",B,C,I,v])}}return true},_set_opt:function(e,B){this.options[e]=B},set_development:function(e){a=e},set_disabled:function(e){y=e},set_ignore_self_refs:function(e){this._set_opt("ignore_self_referrals",e)},set_link_domains:function(e){this._set_opt("link_domains",e)},set_page_name:function(e){this._set_opt("page_name",e)},set_referrer:function(e){this._set_opt("referrer_override",e)},set_tracked_resources:function(e){this._set_opt("track_nonhtml_resources",e)},set_track_host:function(e){this._set_opt("track_host",e)},set_track_page_view:function(e){this._set_opt("track_page_view",e)},track_event:function(E,F,G,B,e){var C=["_trackEvent"];for(var D in arguments){C.push(arguments[D])}this._push_to_google_stack(C)},track_ui_state:function(F,D,H){var B=this._get_virtual_ui_url(),e="/virtual/"+t.domain+"/"+F+"/"+D,C=B+"?t=ui&n="+encodeURIComponent(H)+"&v="+encodeURIComponent(e),E=C.match(/(https?:\/\/[^\/]+)\//),G=E[1];this._push_to_iframe(C,G+e)}};var c=function(e,B){this.handler=e;this.stack=B;this.processed=false};c.prototype={apply:function(e){var C=[];var D,B;if(typeof e!="function"){D=e.shift();B=this.handler[D]}else{B=e}B.apply(this.handler,e)},length:function(){return this.stack.length},process:function(){while(this.length()){this.apply(this.shift())}this.processed=true},push:function(e){if(this.processed){this.apply(e)}else{this.stack.push(e)}},shift:function(){return this.stack.shift()}};var k=function(e){if(l.garminLog){garminLog(e)}};if(!("garminAnalytics" in l)){l.garminAnalytics={};try{l.garminAnalytics=new n();b.trigger(A)}catch(z){if(a&&(typeof l.garminLog!="undefined")){garminLog("Analytics Failed:  "+z)}}}})(window,document,garminHost,garminEvent);window.garminEvent.on("api:locale-selector:auto-select",function(){var a=false;var d=false;try{a=document.getElementsByTagName("html")[0].getAttribute("lang");d=window.garminHost.env.user.locale}catch(g){}if(!a||!d){return false}var j=new RegExp("^"+d+"","i");if(d&&d.length>=2&&a&&!a.match(j)){var m=document.getElementById("api-locale-options");if(!m){return false}var l=m.getElementsByTagName("a");if(typeof l.length=="undefined"||!l.length){return false}for(var c=0,f=l.length;c<f;c++){var h=l[c].getAttribute("data-locale");if(h&&h.match(j)){var b=window.location.toString();var k=b.replace(a,h);window.location=k;break}}}});